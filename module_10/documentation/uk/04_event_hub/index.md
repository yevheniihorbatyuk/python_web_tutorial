# Документація 04_event_hub

Цей документ надає детальний опис `04_event_hub`, Django Rest Framework-додатку для керування подіями.

## Структура проекту

Проект є багатододатковим Django-проектом з акцентом на надання RESTful API.

```
04_event_hub/
├── eventhub_config/    # Конфігурація проекту Django
│   ├── settings.py     # Налаштування проекту
│   ├── urls.py         # Основна конфігурація URL
│   └── celery.py       # Конфігурація Celery
├── events/             # Додаток для керування подіями
├── bookings/           # Додаток для керування бронюваннями та списками очікування
├── payments/           # Додаток для керування платежами та рахунками-фактурами
├── users/              # Додаток з кастомною моделлю користувача та профілем
├── notifications/      # Додаток для сповіщень, відгуків та сертифікатів
├── manage.py           # Утиліта командного рядка Django
├── Dockerfile          # Конфігурація Docker
└── docker-compose.yml  # Конфігурація Docker Compose
```

## Функціонал

Додаток надає повний набір функцій для платформи керування подіями:

*   **Керування подіями:** Створення, публікація та керування подіями.
*   **Система бронювання:** Користувачі можуть бронювати події, а для повністю заброньованих подій доступний список очікування.
*   **Обробка платежів:** Інтеграція з платіжною системою (за замовчуванням імітована) та генерація рахунків-фактур.
*   **Керування користувачами:** Кастомна модель користувача з ролями (учасник, організатор, адміністратор) та профілями користувачів.
*   **Сповіщення:** Система для сповіщення користувачів про важливі події.
*   **Відгуки та сертифікати:** Користувачі можуть залишати відгуки про події та отримувати сертифікати.
*   **Асинхронні завдання:** Celery використовується для фонових завдань, таких як обробка платежів.
*   **API-First дизайн:** Весь додаток доступний через RESTful API.
*   **Докеризація:** Додаток повністю контейнеризований для легкого розгортання.

## API Endpoints

API є основним способом взаємодії з додатком. Ось короткий опис доступних ендпоінтів:

*   `/api/auth/token/`: Отримати токен JWT.
*   `/api/auth/token/refresh/`: Оновити токен JWT.
*   `/api/users/`: Керування користувачами.
*   `/api/events/`: Керування подіями.
*   `/api/sessions/`: Керування сесіями подій.
*   `/api/bookings/`: Керування бронюваннями.
*   `/api/waitlist/`: Керування списками очікування.
*   `/api/payments/`: Керування платежами.
*   `/api/invoices/`: Керування рахунками-фактурами.
*   `/api/notifications/`: Керування сповіщеннями.
*   `/api/reviews/`: Керування відгуками.
*   `/api/certificates/`: Керування сертифікатами.

Для отримання детального списку API-ендпоінтів та їхніх параметрів, будь ласка, зверніться до файлу `API_ENDPOINTS.md` у кореневому каталозі проекту.

## Покроковий посібник

### 1. Налаштування (з Docker)

1.  **Клонуйте репозиторій.**
2.  **Перейдіть до каталогу `python_web/module_10/04_event_hub`.**
3.  **Створіть файл `.env`** на основі файлу `.env.example` та заповніть необхідну інформацію.
4.  **Зберіть та запустіть Docker-контейнери:**
    ```bash
    docker-compose up --build
    ```
5.  **Додаток буде доступний за адресою `http://127.0.0.1:8000/`.**

### 2. Використання API

1.  **Отримайте токен JWT**, надіславши POST-запит на `/api/auth/token/` з вашим ім'ям користувача та паролем.
2.  **Включіть токен** у заголовок `Authorization` ваших запитів (наприклад, `Authorization: Bearer <token>`).
3.  **Тепер ви можете взаємодіяти з API**, надсилаючи запити до різних ендпоінтів.

**Приклад: Створення події**

```bash
curl -X POST http://127.0.0.1:8000/api/events/ \
  -H "Authorization: Bearer <your_token>" \
  -H "Content-Type: application/json" \
  -d 
'{ 
    "title": "Моя чудова подія",
    "description": "Це чудова подія.",
    "category": "workshop",
    "location": "Онлайн",
    "is_online": true,
    "start_date": "2025-12-25T18:00:00Z",
    "end_date": "2025-12-25T20:00:00Z",
    "registration_deadline": "2025-12-24T23:59:59Z",
    "max_attendees": 100,
    "price": "25.00"
  }'
```
